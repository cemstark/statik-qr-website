<!doctype html>
<html lang="tr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QR Kod</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; background: #0b0f17; color: #e7eefc; }
      .card { max-width: 820px; margin: 0 auto; background: #111a2b; border: 1px solid #1f2a44; border-radius: 16px; padding: 18px; }
      .row { display: grid; grid-template-columns: 280px 1fr; gap: 18px; align-items: start; }
      img { width: 100%; height: auto; background: white; border-radius: 12px; padding: 10px; }
      .muted { color: #a9b7d1; font-size: 14px; }
      a { color: #7db1ff; text-decoration: none; }
      a:hover { text-decoration: underline; }
      .btns { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px; }
      .btn { display: inline-block; padding: 10px 12px; border-radius: 12px; border: 1px solid #2a3a5f; background: #0f1730; color: #e7eefc; }
      .btn:hover { border-color: #4060a0; }
      code { background: #0c1223; border: 1px solid #1f2a44; padding: 2px 6px; border-radius: 8px; }
      @media (max-width: 800px) { .row { grid-template-columns: 1fr; } }
    </style>
  </head>
  <body>
    <div class="card">
      <h2 style="margin: 0 0 10px 0;">QR Kod</h2>
      <p class="muted" style="margin-top: 0;">
        Uygulama her çalıştığında <code>RUN_ID</code> değişir: <code>{{ run_id }}</code>
      </p>
      {% if saved_path %}
        <p class="muted" style="margin-top: 0;">
          QR PNG kaydedildi: <code>{{ saved_path }}</code>
        </p>
      {% elif save_error %}
        <p class="muted" style="margin-top: 0;">
          QR PNG kaydedilemedi: <code>{{ save_error }}</code>
        </p>
      {% else %}
        <p class="muted" style="margin-top: 0;">
          QR PNG kaydı kapalı veya henüz denenmedi.
        </p>
      {% endif %}

      <div class="row">
        <div>
          <img src="/qr.png?cache={{ run_id }}" alt="QR" />
          <div class="btns">
            <a class="btn" href="/" title="Sayfayı yenile">Yenile</a>
            <a class="btn" href="{{ payload }}" target="_blank" rel="noreferrer">QR’ın açtığı sayfayı aç</a>
            <a class="btn" href="/qr.png" download>QR PNG indir</a>
          </div>
        </div>
        <div>
          <h3 style="margin-top: 0;">QR İçeriği</h3>
          <p class="muted" style="word-break: break-word; margin-top: 0;">
            {{ payload }}
          </p>

          <h3>Ayarlar</h3>
          <p class="muted" style="margin-top: 0;">
            Düzenlemek için admin sayfasını kullanın: <code>/admin?token=...</code><br/>
            Token <code>config.json</code> içindeki <code>admin_token</code> alanında.
          </p>

          <p class="muted">
            Mod: <code>{{ cfg.qr_mode }}</code>
          </p>
        </div>
      </div>
    </div>
  </body>
</html>


